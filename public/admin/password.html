<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>RÃ©initialisation du mot de passe â€” CHRISCO Admin</title>
<link rel="stylesheet" href="admin-styles.css">
</head>

<body style="display:flex;justify-content:center;align-items:center;height:100vh;">
<div class="login-wrapper" style="width:340px;">

    <h2>ðŸ”’ Mot de passe oubliÃ©</h2>

    <p>Entrez votre email admin pour recevoir un lien de rÃ©initialisation.</p>

    <input id="resetEmail" class="login-input" placeholder="Email admin">

    <button id="sendReset" class="login-btn">Envoyer le lien</button>

    <p id="resetMsg" style="margin-top:12px;color:#c50000"></p>

    <div style="margin-top:15px;">
        <a href="admin.html">â¬… Retour Ã  la connexion</a>
    </div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="../firebase-config.js"></script>

<script>
// init firebase
firebase.initializeApp(window.firebaseConfig);
const auth = firebase.auth();

// action envoi
document.getElementById("sendReset").onclick = async () => {
    const email = document.getElementById("resetEmail").value.trim();
    const msg = document.getElementById("resetMsg");

    if (!email) { msg.innerText = "Email requis."; return; }

    try {
        await auth.sendPasswordResetEmail(email);
        msg.style.color = "green";
        msg.innerText = "Lien envoyÃ©. VÃ©rifiez votre boÃ®te mail.";
    } catch (err) {
        msg.innerText = "Erreur : " + err.message;
    }
}
</script>

</body>
</html>
