<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nos Pasteurs — CHRISCO</title>

<link rel="stylesheet" href="styles.css">

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="firebase-config.js"></script>

<style>
:root{
  --blue:#0b2e59; --red:#c50000; --white:#fff; --bg:#f5f6fa;
}

.page{
  max-width:1100px;
  margin:30px auto;
  background:white;
  padding:25px;
  border-radius:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.1);
}

.title{
  color:var(--blue);
  border-left:6px solid var(--red);
  padding-left:10px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
  margin-top:20px;
}

.card-past{
  background:#f6f8ff;
  border-radius:12px;
  padding:15px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  text-align:center;
}

.card-past img{
  width:100%;
  height:260px;
  object-fit:cover;
  border-radius:10px;
}

.card-past h3{
  color:var(--blue);
  margin:10px 0 5px 0;
}

.card-past small{
  color:#555;
}
</style>
</head>

<body>

<header class="header">
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="images/LOGO CHRISCO dac.png" style="height:55px">
    <strong>CHRISCO</strong>
  </div>
  <nav class="nav">
    <a href="index.html">Accueil</a>
    <a href="pasteurs.html" class="active">Nos Pasteurs</a>
    <a href="evenements.html">Évènements</a>
    <a href="ministeres.html">Ministères</a>
    <a href="vision.html">Vision</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<div class="page">
  <h2 class="title">Nos Pasteurs</h2>

  <div id="pastGrid" class="grid"></div>
</div>

<footer class="footer">
  © 2025 CHRISCO — Christ et Compagnons <br>
  <a href="admin.html">Administration</a>
</footer>

<script>
firebase.initializeApp(window.firebaseConfig);
const db = firebase.firestore();

db.collection("pasteurs")
  .orderBy("ordre")
  .onSnapshot(snap=>{
    if(snap.empty){
      pastGrid.innerHTML="<p>Aucun pasteur enregistré.</p>";
      return;
    }

    pastGrid.innerHTML = snap.docs.map(doc=>{
      const d = doc.data();
      return `
        <div class="card-past">
          <img src="${d.photo}" alt="">
          <h3>${d.nom}</h3>
          <small>${d.fonction}</small>
          <p>${d.bio||""}</p>
        </div>
      `;
    }).join("");
  });
</script>

</body>
</html>
